<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>axios常用配置项</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<button id="btn1">点我获取所有人的信息</button>
<button id="btn2">点我获取所有人的信息</button>
<script type="text/javascript">
    const btn1 = document.getElementById("btn1");
    const btn2 = document.getElementById("btn2");
    //配置默认属性
    axios.defaults.timeout = 2000
    axios.defaults.headers ={demo:1}
    axios.defaults.baseURL = 'http://localhost:5000'
    btn1.onclick = () => {
        axios({
            url: "/test1",
            method: "GET",
            params:{delay:3000},//配置query参数
            // data:{b:1},//配置请全体参数(json)
            // data:`c=1&d=2`,//配置请全体参数(urlencoded)
            timeout: 2000,//配置超时时间
            headers: {token: 'aa'},//配置请求头
            responseType: 'json',//配置响应数据的格式
        }).then(
            response => {
                console.log(response)
            },
            error => {
                console.log(error)
            }
        )
    }
    btn2.onclick = ()=>{
        axios({
            url:'/persons',
            method: 'GET',
            timeout:2000
            })
    }

</script>
</body>
</html>
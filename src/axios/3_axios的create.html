<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>axios的create</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<button id="btn1">点我获取所有人的信息</button>
<button id="btn2">点我获取所有人的信息</button>
<button id="btn3">点我获取所有人的信息</button>
<script type="text/javascript">
    const btn1 =document.getElementById("btn1");
    const btn2 =document.getElementById("btn2");
    const btn3 =document.getElementById("btn3");
    const axios2 = axios.create({
        timeout: 3000,
        // headers:{name:'1'},
        baseURL:'https://api.apiopen.top'
    })
    axios.defaults.timeout = 2000
    axios.defaults.baseURL = 'http://localhost:3000'
    btn1.onclick =()=>{
        axios({
            url:"/students",
            method: "GET",
            params:{a:1},
            data:{b:1},
            timeout:2000,//配置超时时间
            headers:{token:'aa'},//配置请求头
            responseType:'json',//配置响应数据的格式
        }).then(
            response=>{console.log(response)},
            error=>{console.log(error) }
        )
    }
    btn3.onclick=()=>{
        axios2({
            url:'/getJoke',
            method:'GET'
        }).then(
            response=>{console.log(response)},
            error=>{console.log(error);}
        )
    }

</script>
</body>
</html>